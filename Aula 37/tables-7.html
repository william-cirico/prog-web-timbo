<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trabalhando com tabelas</title>
    <style>

        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;            
            text-align: center;
        }

        th, td {
            padding: 10px;
        }
    </style>
</head>
<body>
    <table id="table">
        <caption>Tabela</caption>
        <thead>
            <tr>
                <th colspan="2">Cabeçalho</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Um</td>
                <td>Dois</td>
            </tr>
            <tr>
                <td>Três</td>
                <td>Quatro</td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="2">Rodapé</td>
            </tr>
        </tfoot>
    </table>            
    <script>
        // spec: https://html.spec.whatwg.org/multipage/tables.html

        let table = document.querySelector("#table")        
        console.log(table.caption) // Caption da tabela
        console.log(table.tHead) // thead da tabela
        console.log(table.tFoot) // tfoot da tabela
        console.log(table.tBodies) // tbodies da tabela (pode haver mais de  um)

        console.log(table.rows) // as linhas da tabela
        console.log(table.rows[2].rowIndex) // o índice daquela linha em toda a tabela
        console.log(table.rows[2].sectionRowIndex) // O índice daquela linha na seção em que ela se encontra (thead, tbody, tfoot)
        console.log(table.rows[0].cells) // Células em uma linha
        console.log(table.rows[1].cells[1].cellIndex) // Índice da célula na linha

        /*
        Exercícios

        1) Considerando o seguinte HTML:
        <head>
            <style>
                table {
                border-collapse: collapse;
                }

                td {
                border: 1px solid black;
                padding: 3px 5px;
                }
            </style>
        </head>
        <body>
            <table>
                <tr>
                <td>1:1</td>
                <td>2:1</td>
                <td>3:1</td>
                <td>4:1</td>
                <td>5:1</td>
                </tr>
                <tr>
                <td>1:2</td>
                <td>2:2</td>
                <td>3:2</td>
                <td>4:2</td>
                <td>5:2</td>
                </tr>
                <tr>
                <td>1:3</td>
                <td>2:3</td>
                <td>3:3</td>
                <td>4:3</td>
                <td>5:3</td>
                </tr>
                <tr>
                <td>1:4</td>
                <td>2:4</td>
                <td>3:4</td>
                <td>4:4</td>
                <td>5:4</td>
                </tr>
                <tr>
                <td>1:5</td>
                <td>2:5</td>
                <td>3:5</td>
                <td>4:5</td>
                <td>5:5</td>
                </tr>
            </table>
        </body>
        Pinte todas as células presentes na diagonal principal da tabela de vermelho.
        
        // Código para pintar a célula:
        td.style.backgroundColor = "red"


        2) Considerando a seguinte tabela:
        <table id="grid">
            <thead>
                <tr>
                    <th data-type="number">Age</th>
                    <th data-type="string">Name</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>5</td>
                    <td>John</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>Ann</td>
                </tr>
            </tbody>
        </table>

        Ordene a tabela conforme o clique em algum título
        let grid = document.querySelector(#grid)
        grid.addEventListener("click", (e) => {
            if (e.target.tagName != 'TH') return

            let th = e.target
            sortGrid(th.cellIndex, th.dataset.type)
        }

        function sortGrid(colNum, type) {
            let tbody = grid.querySelector('tbody')
            let rowsArray = Array.from(tbody.rows)            
            let compare

            switch (type) {
                case 'number':
                compare = function(rowA, rowB) {
                    return rowA.cells[colNum].innerHTML - rowB.cells[colNum].innerHTML
                }
                break
                case 'string':
                compare = function(rowA, rowB) {
                    return rowA.cells[colNum].innerHTML > rowB.cells[colNum].innerHTML ? 1 : -1
                }
                break
        }

        rowsArray.sort(compare)

        tbody.append(...rowsArray)
    }
        */
    </script>
</body>
</html>