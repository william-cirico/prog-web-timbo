<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // Métodos Array

        // every() -> Testa se todos os elementos do array passam no teste implementado pela função
        {
            let positivos = [1, 2, 3, 4, 5]
            console.log(positivos.every((elemento, indice, vetor) => elemento > 0))
        }

        // some() -> Testa se ao menos um elemento do array passa no teste implementado pela função
        {
            let numeros = [-1, -2, 3, -5, -2]
            console.log(numeros.some((elemento, indice, vetor) => elemento > 0))
        }

        // fill() -> Preenche todos os valores do array a partir do índice inicial até um índice final
        // com um valor estático.
        {
            let vetor = [1, 2, 2, 2, 2]
            vetor.fill(3, 1, 2)
            console.log(vetor)
        }

        // filter() -> Cria um novo array com todos os elementos que passaram no teste implementado
        {
            let numeros = [1, 2, -2, -5, 3]
            console.log(numeros.filter((elemento, indice, vetor) => elemento > 0))
        }

        // find() -> Retorna o valor do primeiro elemento que satisfazer a função de teste provida.
        {
            let numeros = [-2, -4, -5, 1, 2]
            console.log(numeros.find((elemento, indice, vetor) => elemento > 0))
        }

        // findIndex() -> Retorna o índice no array do primeiro elemento que satisfazer a função de
        // teste provida.
        {   
            let numeros = [-2, -4, -5, 1, 2]
            console.log(numeros.findIndex((elemento, indice, vetor) => elemento > 0))
        }

        // flat() -> Retorna um novo array com todos os elementos sub-arrays concatenados nele
        // até a profundidade especificada.
        {
            let matriz = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
            console.log(matriz.flat(1))
        }

        // forEach() -> Executa uma função em cada elemento do vetor
        {
            let vetor = [1, 2, 3, 4]
            vetor.forEach((elemento, indice, vetor) => alert(elemento * 2))
        }

        // includes() -> Verifica se o vetor possui o elemento especificado
        {
            let vetor = [1, 2, 3, 4, 5]
            console.log(vetor.includes(2))
        }

        // indexOf() -> Retorna o primeiro índice em que o elemento pode ser encontrado no array
        {
            let vetor = [1, 2, 3, 5, 6, 6]
            console.log(vetor.indexOf(6))
        }

        // lastIndexOf() -> Mesma coisa que o indexOf, porém, procura pelo item da direita para a esquerda.
        {
            let vetor = [1, 2, 3, 5, 6, 6]
            console.log(vetor.lastIndexOf(6))
        }

        // map() -> Devolve um novo array com o resultado de cada elemento modificado pela função passada
        {
            let numeros = [1, 2, 3, 4, 5, 6]
            let numerosQuadrado = numeros.map((elemento, indice, vetor) => elemento ** 2)
            console.log(numerosQuadrado)
        }

        // sort() -> Ordena os elementos do próprio array e retorna o array. 
        {
            let numeros = [2, 1, 9, 2, 3]
            numeros.sort((a, b) => b - a)
            console.log(numeros)
        }

        // reduce() -> Executa uma função reducer para cada elemento do array.
        {
            let numeros = [1, 2, 3, 4, 5]
            console.log(numeros.reduce((acumulador, valorAtual, indice, vetor) => acumulador + valorAtual))
        }  

        // Exercício
        /*
        1) Escreva a função embaralhar(vetor) que embaralha aleatóriamente os valores do vetor.
           Exemplo: embaralhar([2, 8, 1, 3, 4]) -> [1, 4, 3, 2, 8]

        2) Escreva uma função unicos(vetor) que retorna um vetor com apenas os elementos únicos do vetor
           recebido.
           Exemplo: unicos([1, 2, 2, 3, 4]) -> [1, 2, 3, 4]
        */        

        
        // 1
        function embaralhar(vetor) {
            // Fisher-Yates shuffle
            for (let i = vetor.length - 1; i > 0; i--) {
                let j = Math.floor(Math.random() * (i + 1))

                let aux = vetor[i]
                vetor[i] = vetor[j]
                vetor[j] = aux                
            }
        }

        function testarEmbaralhar(funcao) {
            let contador = {
                "123": 0,
                "132": 0,
                "213": 0,
                "231": 0,
                "321": 0,
                "312": 0
            }

            for (let i = 0; i < 1000000; i++) {
                let vetor = [1, 2, 3]
                funcao(vetor)
                contador[vetor.join("")]++
            }

            for (let chave in contador) {
                console.log(`${chave}: ${contador[chave]}`)
            }
        }             
        
        testarEmbaralhar(embaralhar)

        // 2
        function unicos(vetor) {
            let vetorResultado = []

            for (let item of vetor) {
                if (!vetorResultado.includes(item)) {
                    vetorResultado.push(item)
                }
            }

            return vetorResultado
        }

        let vetor = [1, 2, 3, 3, 5, 5, 6, 6]

        console.log(unicos(vetor))
    </script>
</body>
</html>